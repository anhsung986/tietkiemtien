<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ti·∫øt Ki·ªám 5K</title>

<style>
body{
margin:0;
font-family:Arial;
color:white;
background: linear-gradient(-45deg,#ff4da6,#ffd700,#00cc66,#3399ff);
background-size:400% 400%;
animation:rainbow 8s ease infinite;
}
@keyframes rainbow{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}
.header{
position:fixed;
top:0;
width:100%;
padding:20px;
text-align:center;
background:rgba(0,0,0,0.6);
}
.container{
margin-top:230px;
padding:20px;
}
.grid{
display:grid;
grid-template-columns:repeat(6,1fr);
gap:8px;
}
.box{
background:#4CAF50;
padding:12px 0;
text-align:center;
border-radius:10px;
font-size:13px;
cursor:pointer;
}
.box.done{background:#e53935;}

.progress{
width:80%;
height:15px;
background:#555;
margin:10px auto;
border-radius:10px;
overflow:hidden;
}
.bar{
height:100%;
width:0%;
background:lime;
}

.back{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
background:black;
padding:10px 20px;
border-radius:10px;
cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
<h2 id="title"></h2>
<div id="left"></div>
<div id="saved"></div>

<div class="progress">
<div class="bar" id="bar"></div>
</div>
<div id="percent"></div>
</div>

<div class="container">
<div class="grid" id="grid"></div>
</div>

<div class="back" onclick="window.location.href='index.html'">
‚¨Ö Quay v·ªÅ Menu
</div>

<script>
let weekly = 5000;
let label = "5k";
let title = "Ti·∫øt Ki·ªám 5.000ƒë";
let storageKey = "save5k";

let target = 1500000;
let total = Math.floor(target / weekly);

let completed = 0;
let savedData = JSON.parse(localStorage.getItem(storageKey)) || [];

document.getElementById("title").innerText = title;

let grid = document.getElementById("grid");

function updateUI(){
let saved = completed * weekly;
let percent = Math.floor((completed/total)*100);

document.getElementById("left").innerText =
"S·ªë l·∫ßn c√≤n l·∫°i: " + (total-completed);

document.getElementById("saved").innerText =
"ƒê√£ ti·∫øt ki·ªám: " + saved.toLocaleString()+"ƒë";

document.getElementById("bar").style.width = percent+"%";
document.getElementById("percent").innerText = percent+"%";

if(percent === 100){
alert("üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ ƒë·ªß 1.500.000ƒë!");
}
}

for(let i=0;i<total;i++){

let box=document.createElement("div");
box.className="box";
box.innerText=label;

if(savedData.includes(i)){
box.classList.add("done");
completed++;
}

box.onclick=function(){

if(!box.classList.contains("done")){
box.classList.add("done");
savedData.push(i);
completed++;
}else{
box.classList.remove("done");
savedData = savedData.filter(x=>x!==i);
completed--;
}

localStorage.setItem(storageKey, JSON.stringify(savedData));
updateUI();
}

grid.appendChild(box);
}

updateUI();
</script>

</body>
</html>

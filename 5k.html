<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tiáº¿t Kiá»‡m 1m5</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(to right,#c6ff00,#a8e063);
text-align:center;
}

.header{
background:#2f5d0f;
color:white;
padding:15px;
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:10px;
padding:15px;
}

.money-btn{
padding:14px;
border:none;
border-radius:10px;
background:#4caf50;
color:white;
font-size:15px;
cursor:pointer;
transition:0.2s;
}

.money-btn.selected{
background:#ff9800;
}

.money-btn:disabled{
background:#999;
cursor:not-allowed;
opacity:0.6;
}

.save-btn{
margin:15px;
padding:12px 25px;
border:none;
border-radius:8px;
background:#d32f2f;
color:white;
font-size:16px;
cursor:pointer;
}

.stats{
margin-top:10px;
font-size:16px;
}
</style>
</head>

<body>

<div class="header">
<h2>Tiáº¿t Kiá»‡m 1.500.000Ä‘</h2>
<p id="status">ChÆ°a chá»n sá»‘ tiá»n</p>

<div class="stats">
<p>ğŸ’° ÄÃ£ tiáº¿t kiá»‡m: <span id="totalMoney">0</span> Ä‘</p>
<p>ğŸ“… Sá»‘ tuáº§n Ä‘Ã£ hoÃ n thÃ nh: <span id="totalWeeks">0</span></p>
</div>

</div>

<div class="grid" id="moneyGrid"></div>

<button class="save-btn" onclick="saveMoney()">ğŸ’¾ LÆ¯U & KHÃ“A</button>

<script>

let storageKey = "saveMoneyData";
let selectedAmount = null;

// Láº¥y dá»¯ liá»‡u Ä‘Ã£ lÆ°u
let lockedButtons = JSON.parse(localStorage.getItem(storageKey)) || [];

let grid = document.getElementById("moneyGrid");
let status = document.getElementById("status");
let totalMoneyEl = document.getElementById("totalMoney");
let totalWeeksEl = document.getElementById("totalWeeks");

// ===== Táº O 300 TUáº¦N (5k â†’ 1500k) =====
for(let i = 1; i <= 300; i++){

    let amount = i * 5000; // má»—i tuáº§n 5k

    let btn = document.createElement("button");
    btn.className = "money-btn";
    btn.innerText = (amount / 1000) + "k";

    if(lockedButtons.includes(amount)){
        btn.disabled = true;
    }

    btn.onclick = function(){
        selectMoney(amount, btn);
    };

    grid.appendChild(btn);
}

// ===== CHá»ŒN TIá»€N =====
function selectMoney(amount, element){

    if(element.disabled) return;

    document.querySelectorAll(".money-btn").forEach(btn=>{
        btn.classList.remove("selected");
    });

    element.classList.add("selected");
    selectedAmount = amount;

    status.innerText = "ÄÃ£ chá»n: " + amount.toLocaleString() + " Ä‘ (ChÆ°a lÆ°u)";
}

// ===== LÆ¯U & KHÃ“A =====
function saveMoney(){

    if(selectedAmount === null){
        alert("âš  Vui lÃ²ng chá»n sá»‘ tiá»n trÆ°á»›c!");
        return;
    }

    if(!lockedButtons.includes(selectedAmount)){
        lockedButtons.push(selectedAmount);
        localStorage.setItem(storageKey, JSON.stringify(lockedButtons));
    }

    alert("âœ… ÄÃ£ lÆ°u thÃ nh cÃ´ng!");

    location.reload();
}

// ===== Cáº¬P NHáº¬T THá»NG KÃŠ =====
function updateStats(){

    let total = lockedButtons.reduce((sum, value) => sum + value, 0);

    totalMoneyEl.innerText = total.toLocaleString();
    totalWeeksEl.innerText = lockedButtons.length;
}

updateStats();

</script>

</body>
</html>

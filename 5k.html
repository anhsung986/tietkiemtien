<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tiáº¿t Kiá»‡m 1m5</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(to right,#c6ff00,#a8e063);
text-align:center;
}

.header{
background:#1b5e20;
color:white;
padding:15px;
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:10px;
padding:15px;
}

.money-btn{
padding:14px;
border:none;
border-radius:10px;
background:#4caf50;
color:white;
font-size:15px;
cursor:pointer;
}

.money-btn.selected{
background:#ff9800;
}

.money-btn:disabled{
background:#999;
opacity:0.6;
cursor:not-allowed;
}

.save-btn{
margin:15px;
padding:12px 25px;
border:none;
border-radius:8px;
background:#d32f2f;
color:white;
font-size:16px;
cursor:pointer;
}

.stats{
margin-top:10px;
font-size:16px;
}
</style>
</head>

<body>

<div class="header">
<h2>Tiáº¿t Kiá»‡m 1.500.000Ä‘</h2>
<p id="status">ChÆ°a chá»n tuáº§n</p>

<div class="stats">
<p>ğŸ’° ÄÃ£ tiáº¿t kiá»‡m: <span id="totalMoney">0</span> Ä‘</p>
<p>ğŸ“… Sá»‘ tuáº§n cÃ²n láº¡i: <span id="weeksLeft">300</span></p>
</div>
</div>

<div class="grid" id="moneyGrid"></div>

<button class="save-btn" onclick="saveWeek()">ğŸ’¾ LÆ¯U TUáº¦N</button>

<script>

let storageKey = "completedWeeks";
let selectedWeek = null;

let completedWeeks = JSON.parse(localStorage.getItem(storageKey)) || [];

let grid = document.getElementById("moneyGrid");
let status = document.getElementById("status");
let totalMoneyEl = document.getElementById("totalMoney");
let weeksLeftEl = document.getElementById("weeksLeft");

// ===== Táº O 300 TUáº¦N =====
for(let week = 1; week <= 300; week++){

    let amount = week * 5000;

    let btn = document.createElement("button");
    btn.className = "money-btn";
    btn.innerText = (amount/1000) + "k";

    if(completedWeeks.includes(week)){
        btn.disabled = true;
    }

    btn.onclick = function(){
        selectWeek(week, btn);
    };

    grid.appendChild(btn);
}

// ===== CHá»ŒN TUáº¦N =====
function selectWeek(week, element){

    if(element.disabled) return;

    document.querySelectorAll(".money-btn").forEach(btn=>{
        btn.classList.remove("selected");
    });

    element.classList.add("selected");
    selectedWeek = week;

    status.innerText = "ÄÃ£ chá»n tuáº§n " + week;
}

// ===== LÆ¯U TUáº¦N =====
function saveWeek(){

    if(selectedWeek === null){
        alert("âš  Vui lÃ²ng chá»n tuáº§n trÆ°á»›c!");
        return;
    }

    if(!completedWeeks.includes(selectedWeek)){
        completedWeeks.push(selectedWeek);
        localStorage.setItem(storageKey, JSON.stringify(completedWeeks));
    }

    alert("âœ… ÄÃ£ lÆ°u tuáº§n!");

    location.reload();
}

// ===== TÃNH Tá»”NG & TUáº¦N CÃ’N Láº I =====
function updateStats(){

    let total = 0;

    completedWeeks.forEach(week=>{
        total += week * 5000;
    });

    totalMoneyEl.innerText = total.toLocaleString();

    let weeksLeft = 300 - completedWeeks.length;
    weeksLeftEl.innerText = weeksLeft;

    if(weeksLeft === 0){
        alert("ğŸ‰ ChÃºc má»«ng! Báº¡n Ä‘Ã£ hoÃ n thÃ nh 1.500.000Ä‘!");
    }
}

updateStats();

</script>

</body>
</html>
